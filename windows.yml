# Module: windows
# Docs: https://www.elastic.co/guide/en/beats/metricbeat/6.4/metricbeat-module-windows.html

#- module: windows
  #metricsets:
  #  - service
# period: 1m

- module: windows
  metricsets:
    - perfmon
  period: 10s
  perfmon.counters:
    - instance_label: processor.counter
      instance_name: total
      measurement_label: processor.time.total.pct
      query: '\Processor Information(_Total)\% Processor Time'

    - instance_label: memory.counter
      measurement_label: committed.bytes.in.use.pct
      query: '\Memory(*)\% Committed Bytes In Use'
      
    - instance_label: memory.counter
      measurement_label: Available.MBytes
      query: '\Memory(*)\Available MBytes'
      
    - instance_label: memory.counter
      measurement_label: Pages.sec
      query: '\Memory(*)\Pages/sec'

    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.Bytes.Read
      query: '\PhysicalDisk(_Total)\Avg. Disk Bytes/Read'

    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.Bytes.Write
      query: '\PhysicalDisk(_Total)\Avg. Disk Bytes/Write'

    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.Queue.Length
      query: '\PhysicalDisk(_Total)\Avg. Disk Queue Length'
      
    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.Read.Queue.Length
      query: '\PhysicalDisk(_Total)\Avg. Disk Read Queue Length'
      
    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.Write.Queue.Length
      query: '\PhysicalDisk(_Total)\Avg. Disk Write Queue Length'

    - instance_label: physical.disk.counter
      measurement_label: Current.Disk.Queue.Length
      query: '\PhysicalDisk(_Total)\Current Disk Queue Length'
      
    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.sec.Read
      query: '\PhysicalDisk(_Total)\Avg. Disk sec/Read'

    - instance_label: physical.disk.counter
      measurement_label: Avg.Disk.sec.Write
      query: '\PhysicalDisk(_Total)\Avg. Disk sec/Write'
      
    - instance_label: logical.disk.counter
      measurement_label: Free.Disk.Space.pct
      query: '\LogicalDisk(c:)\% Free Space'

    - instance_label: logical.disk.counter
      measurement_label: Free.Disk.Space.megabytes
      query: '\LogicalDisk(c:)\Free Megabytes'

    - instance_label: network.interface.counter
      measurement_label: Total.Bytes.sec
      query: '\Network Interface(microsoft hyper-v network adapter)\Bytes Total/sec'

    - instance_label: network.interface.counter
      measurement_label: Bytes.Received.sec
      query: '\Network Interface(microsoft hyper-v network adapter)\Bytes Received/sec'

    - instance_label: network.interface.counter
      measurement_label: Bytes.Sent.sec
      query: '\Network Interface(microsoft hyper-v network adapter)\Bytes Sent/sec'
